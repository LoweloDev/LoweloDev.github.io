{"ast":null,"code":"import _slicedToArray from\"/home/lowelodev/IdeaProjects/StudentHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/home/lowelodev/IdeaProjects/StudentHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/lowelodev/IdeaProjects/StudentHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/lowelodev/IdeaProjects/StudentHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/lowelodev/IdeaProjects/StudentHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import List from'@material-ui/core/List';import ListItem from'@material-ui/core/ListItem';import ListItemIcon from'@material-ui/core/ListItemIcon';import ListItemText from'@material-ui/core/ListItemText';import FolderIcon from'@material-ui/icons/Folder';import{IconButton,InputBase,ListItemSecondaryAction}from\"@material-ui/core\";import CloudDownloadIcon from'@material-ui/icons/CloudDownload';import{withRouter}from\"react-router-dom\";import ArrowBackIcon from'@material-ui/icons/ArrowBack';import SearchIcon from'@material-ui/icons/Search';import Fuse from'fuse.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DirectoryComponent=/*#__PURE__*/function(_React$Component){_inherits(DirectoryComponent,_React$Component);var _super=_createSuper(DirectoryComponent);function DirectoryComponent(props){var _this;_classCallCheck(this,DirectoryComponent);_this=_super.call(this,props);_this.didMount=false;_this.localPrimaryColor=\"primary\";_this.state={state:props.state,depth:0};return _this;}_createClass(DirectoryComponent,[{key:\"openFolder\",value:function openFolder(jsonObj,entryName){this.setState({state:jsonObj[entryName].child,depth:this.state.depth+1});}},{key:\"generateListItems\",value:function generateListItems(jsonObj){var _this2=this;return Object.entries(jsonObj).map(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];return/*#__PURE__*/_jsxs(ListItem,{button:true,onClick:function onClick(){return jsonObj[value.name]&&_this2.openFolder(jsonObj,key);},children:[/*#__PURE__*/_jsx(ListItemIcon,{children:value.type===\"dir\"&&/*#__PURE__*/_jsx(FolderIcon,{color:_this2.localPrimaryColor})}),/*#__PURE__*/_jsx(ListItemText,{color:_this2.localPrimaryColor,primary:value.name,secondary:value.type!==\"dir\"&&value.type}),/*#__PURE__*/_jsx(ListItemSecondaryAction,{children:/*#__PURE__*/_jsx(IconButton,{color:_this2.localPrimaryColor,href:value.download_url,children:/*#__PURE__*/_jsx(CloudDownloadIcon,{})})})]});});}},{key:\"fuseSearch\",value:function fuseSearch(list,search){var options={includeScore:true,keys:['name','type','html_url','child.name','child.type','child.html_url']};var fuse=new Fuse(list,options);if(search===\"\")return this.props.state;return fuse.search(search).map(function(item){return{name:item.item.name,download_url:item.item.download_url,html_url:item.item.html_url,type:item.item.type,child:item.item.child};}).reduce(function(acc,currItem){return acc[currItem.name]=currItem,acc;},{});}},{key:\"render\",value:function render(){var _this3=this;if(this.state.state!==null){// this.fuseSearch(Object.values(this.state.state), \"1. Semester\");\n}return/*#__PURE__*/_jsxs(List,{children:[/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(SearchIcon,{color:this.localPrimaryColor})}),/*#__PURE__*/_jsx(InputBase,{color:this.localPrimaryColor,placeholder:\"Search\\u2026\",onChange:function onChange(search){// this.fuseSearch(Object.values(this.state.state), search.target.value)\n_this3.setState({state:_this3.fuseSearch(Object.values(_this3.props.state),search.target.value)});}})]}),this.state.depth>0&&/*#__PURE__*/_jsx(ListItem,{button:true,onClick:function onClick(){return _this3.setState({state:_this3.props.state,depth:_this3.state.depth-1});},children:/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(ArrowBackIcon,{color:this.localPrimaryColor})})}),this.generateListItems(this.state.state)]});}}]);return DirectoryComponent;}(React.Component);export default withRouter(DirectoryComponent);","map":{"version":3,"sources":["/home/lowelodev/IdeaProjects/StudentHub/src/StudentHub/DirectoryComponent.js"],"names":["React","List","ListItem","ListItemIcon","ListItemText","FolderIcon","IconButton","InputBase","ListItemSecondaryAction","CloudDownloadIcon","withRouter","ArrowBackIcon","SearchIcon","Fuse","DirectoryComponent","props","didMount","localPrimaryColor","state","depth","jsonObj","entryName","setState","child","Object","entries","map","key","value","name","openFolder","type","download_url","list","search","options","includeScore","keys","fuse","item","html_url","reduce","acc","currItem","fuseSearch","values","target","generateListItems","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport {IconButton, InputBase, ListItemSecondaryAction} from \"@material-ui/core\";\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\nimport {withRouter} from \"react-router-dom\";\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport SearchIcon from '@material-ui/icons/Search'\nimport Fuse from 'fuse.js';\n\nclass DirectoryComponent extends React.Component {\n    didMount = false;\n    localPrimaryColor = \"primary\";\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            state: props.state,\n            depth: 0\n        };\n    }\n\n    openFolder(jsonObj, entryName) {\n        this.setState({\n            state: jsonObj[entryName].child,\n            depth: this.state.depth + 1\n        });\n    }\n\n    generateListItems(jsonObj) {\n        return Object.entries(jsonObj).map(([key, value]) => {\n            return (\n                <ListItem button onClick={() => jsonObj[value.name] && this.openFolder(jsonObj, key)}>\n                    <ListItemIcon>\n                        {(value.type === \"dir\") && <FolderIcon color={this.localPrimaryColor}/>}\n                    </ListItemIcon>\n                    <ListItemText color={this.localPrimaryColor} primary={value.name} secondary={(value.type !== \"dir\") && value.type}/>\n                    <ListItemSecondaryAction>\n                        <IconButton color={this.localPrimaryColor} href={value.download_url}>\n                            <CloudDownloadIcon/>\n                        </IconButton>\n                    </ListItemSecondaryAction>\n                </ListItem>\n            );\n        })\n    }\n\n    fuseSearch(list, search) {\n        const options = {\n            includeScore: true,\n            keys: ['name', 'type', 'html_url', 'child.name', 'child.type', 'child.html_url']\n        }\n\n        const fuse = new Fuse(list, options)\n\n        if (search === \"\") return this.props.state;\n\n        return fuse.search(search).map(item => {\n            return {\n                name: item.item.name,\n                download_url: item.item.download_url,\n                html_url: item.item.html_url,\n                type: item.item.type,\n                child: item.item.child\n            }\n        }).reduce((acc, currItem) => (acc[currItem.name] = currItem, acc), {});\n    }\n\n    render() {\n        if(this.state.state !== null) {\n            // this.fuseSearch(Object.values(this.state.state), \"1. Semester\");\n        }\n        return (\n            <List>\n                <ListItem>\n                    <ListItemIcon>\n                        <SearchIcon color={this.localPrimaryColor}/>\n                    </ListItemIcon>\n                    <InputBase\n                        color={this.localPrimaryColor}\n                        placeholder=\"Search…\"\n                        onChange={(search) => {\n                            // this.fuseSearch(Object.values(this.state.state), search.target.value)\n                            this.setState({\n                                state: this.fuseSearch(Object.values(this.props.state), search.target.value)\n                            })\n                        }}\n                    />\n                </ListItem>\n                {this.state.depth > 0 &&\n                <ListItem button onClick={() => this.setState({\n                    state: this.props.state,\n                    depth: this.state.depth - 1\n                })}>\n                    <ListItemIcon>\n                    <ArrowBackIcon color={this.localPrimaryColor}/>\n                    </ListItemIcon>\n                </ListItem>}\n                {this.generateListItems(this.state.state)}\n            </List>\n        );\n    }\n\n}\n\nexport default withRouter(DirectoryComponent);"]},"metadata":{},"sourceType":"module"}