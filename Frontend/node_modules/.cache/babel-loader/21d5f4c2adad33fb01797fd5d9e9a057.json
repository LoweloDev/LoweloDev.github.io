{"ast":null,"code":"var _jsxFileName = \"/home/lowelodev/IdeaProjects/StudentHub/src/StudentHub/DirectoryComponent.js\";\nimport React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport { IconButton, InputBase, ListItemSecondaryAction } from \"@material-ui/core\";\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\nimport { withRouter } from \"react-router-dom\";\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Fuse from 'fuse.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass DirectoryComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.didMount = false;\n    this.localPrimaryColor = \"primary\";\n    this.state = {\n      state: props.state,\n      depth: 0\n    };\n  }\n\n  openFolder(jsonObj, entryName) {\n    this.setState({\n      state: jsonObj[entryName].child,\n      depth: this.state.depth + 1\n    });\n  }\n\n  generateListItems(jsonObj) {\n    return Object.entries(jsonObj).map(([key, value]) => {\n      return /*#__PURE__*/_jsxDEV(ListItem, {\n        button: true,\n        onClick: () => jsonObj[value.name] && this.openFolder(jsonObj, key),\n        children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n          children: value.type === \"dir\" && /*#__PURE__*/_jsxDEV(FolderIcon, {\n            color: this.localPrimaryColor\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 52\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n          color: this.localPrimaryColor,\n          primary: value.name,\n          secondary: value.type !== \"dir\" && value.type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            color: this.localPrimaryColor,\n            href: value.download_url,\n            children: /*#__PURE__*/_jsxDEV(CloudDownloadIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this);\n    });\n  }\n\n  fuseSearch(list, search) {\n    const options = {\n      includeScore: true,\n      keys: ['name', 'type', 'html_url', 'child.name', 'child.type', 'child.html_url']\n    };\n    const fuse = new Fuse(list, options);\n    if (search === \"\") return this.props.state;\n    return fuse.search(search).map(item => {\n      return {\n        name: item.item.name,\n        download_url: item.item.download_url,\n        html_url: item.item.html_url,\n        type: item.item.type,\n        child: item.item.child\n      };\n    }).reduce((acc, currItem) => (acc[currItem.name] = currItem, acc), {});\n  }\n\n  render() {\n    if (this.state.state !== null) {// this.fuseSearch(Object.values(this.state.state), \"1. Semester\");\n    }\n\n    return /*#__PURE__*/_jsxDEV(List, {\n      children: [/*#__PURE__*/_jsxDEV(ListItem, {\n        children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n          children: /*#__PURE__*/_jsxDEV(SearchIcon, {\n            color: this.localPrimaryColor\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(InputBase, {\n          color: this.localPrimaryColor,\n          placeholder: \"Search\\u2026\",\n          onChange: search => {\n            // this.fuseSearch(Object.values(this.state.state), search.target.value)\n            this.setState({\n              state: this.fuseSearch(Object.values(this.props.state), search.target.value)\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), this.state.depth > 0 && /*#__PURE__*/_jsxDEV(ListItem, {\n        button: true,\n        onClick: () => this.setState({\n          state: this.props.state,\n          depth: this.state.depth - 1\n        }),\n        children: /*#__PURE__*/_jsxDEV(ListItemIcon, {\n          children: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {\n            color: this.localPrimaryColor\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), this.generateListItems(this.state.state)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(DirectoryComponent);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/lowelodev/IdeaProjects/StudentHub/src/StudentHub/DirectoryComponent.js"],"names":["React","List","ListItem","ListItemIcon","ListItemText","FolderIcon","IconButton","InputBase","ListItemSecondaryAction","CloudDownloadIcon","withRouter","ArrowBackIcon","SearchIcon","Fuse","DirectoryComponent","Component","constructor","props","didMount","localPrimaryColor","state","depth","openFolder","jsonObj","entryName","setState","child","generateListItems","Object","entries","map","key","value","name","type","download_url","fuseSearch","list","search","options","includeScore","keys","fuse","item","html_url","reduce","acc","currItem","render","values","target"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,SAAQC,UAAR,EAAoBC,SAApB,EAA+BC,uBAA/B,QAA6D,mBAA7D;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,IAAP,MAAiB,SAAjB;;;AAEA,MAAMC,kBAAN,SAAiCd,KAAK,CAACe,SAAvC,CAAiD;AAI7CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AADe,SAHnBC,QAGmB,GAHR,KAGQ;AAAA,SAFnBC,iBAEmB,GAFC,SAED;AAEf,SAAKC,KAAL,GAAa;AACTA,MAAAA,KAAK,EAAEH,KAAK,CAACG,KADJ;AAETC,MAAAA,KAAK,EAAE;AAFE,KAAb;AAIH;;AAEDC,EAAAA,UAAU,CAACC,OAAD,EAAUC,SAAV,EAAqB;AAC3B,SAAKC,QAAL,CAAc;AACVL,MAAAA,KAAK,EAAEG,OAAO,CAACC,SAAD,CAAP,CAAmBE,KADhB;AAEVL,MAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KAAX,GAAmB;AAFhB,KAAd;AAIH;;AAEDM,EAAAA,iBAAiB,CAACJ,OAAD,EAAU;AACvB,WAAOK,MAAM,CAACC,OAAP,CAAeN,OAAf,EAAwBO,GAAxB,CAA4B,CAAC,CAACC,GAAD,EAAMC,KAAN,CAAD,KAAkB;AACjD,0BACI,QAAC,QAAD;AAAU,QAAA,MAAM,MAAhB;AAAiB,QAAA,OAAO,EAAE,MAAMT,OAAO,CAACS,KAAK,CAACC,IAAP,CAAP,IAAuB,KAAKX,UAAL,CAAgBC,OAAhB,EAAyBQ,GAAzB,CAAvD;AAAA,gCACI,QAAC,YAAD;AAAA,oBACMC,KAAK,CAACE,IAAN,KAAe,KAAhB,iBAA0B,QAAC,UAAD;AAAY,YAAA,KAAK,EAAE,KAAKf;AAAxB;AAAA;AAAA;AAAA;AAAA;AAD/B;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII,QAAC,YAAD;AAAc,UAAA,KAAK,EAAE,KAAKA,iBAA1B;AAA6C,UAAA,OAAO,EAAEa,KAAK,CAACC,IAA5D;AAAkE,UAAA,SAAS,EAAGD,KAAK,CAACE,IAAN,KAAe,KAAhB,IAA0BF,KAAK,CAACE;AAA7G;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAKI,QAAC,uBAAD;AAAA,iCACI,QAAC,UAAD;AAAY,YAAA,KAAK,EAAE,KAAKf,iBAAxB;AAA2C,YAAA,IAAI,EAAEa,KAAK,CAACG,YAAvD;AAAA,mCACI,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAaH,KAdM,CAAP;AAeH;;AAEDC,EAAAA,UAAU,CAACC,IAAD,EAAOC,MAAP,EAAe;AACrB,UAAMC,OAAO,GAAG;AACZC,MAAAA,YAAY,EAAE,IADF;AAEZC,MAAAA,IAAI,EAAE,CAAC,MAAD,EAAS,MAAT,EAAiB,UAAjB,EAA6B,YAA7B,EAA2C,YAA3C,EAAyD,gBAAzD;AAFM,KAAhB;AAKA,UAAMC,IAAI,GAAG,IAAI7B,IAAJ,CAASwB,IAAT,EAAeE,OAAf,CAAb;AAEA,QAAID,MAAM,KAAK,EAAf,EAAmB,OAAO,KAAKrB,KAAL,CAAWG,KAAlB;AAEnB,WAAOsB,IAAI,CAACJ,MAAL,CAAYA,MAAZ,EAAoBR,GAApB,CAAwBa,IAAI,IAAI;AACnC,aAAO;AACHV,QAAAA,IAAI,EAAEU,IAAI,CAACA,IAAL,CAAUV,IADb;AAEHE,QAAAA,YAAY,EAAEQ,IAAI,CAACA,IAAL,CAAUR,YAFrB;AAGHS,QAAAA,QAAQ,EAAED,IAAI,CAACA,IAAL,CAAUC,QAHjB;AAIHV,QAAAA,IAAI,EAAES,IAAI,CAACA,IAAL,CAAUT,IAJb;AAKHR,QAAAA,KAAK,EAAEiB,IAAI,CAACA,IAAL,CAAUjB;AALd,OAAP;AAOH,KARM,EAQJmB,MARI,CAQG,CAACC,GAAD,EAAMC,QAAN,MAAoBD,GAAG,CAACC,QAAQ,CAACd,IAAV,CAAH,GAAqBc,QAArB,EAA+BD,GAAnD,CARH,EAQ4D,EAR5D,CAAP;AASH;;AAEDE,EAAAA,MAAM,GAAG;AACL,QAAG,KAAK5B,KAAL,CAAWA,KAAX,KAAqB,IAAxB,EAA8B,CAC1B;AACH;;AACD,wBACI,QAAC,IAAD;AAAA,8BACI,QAAC,QAAD;AAAA,gCACI,QAAC,YAAD;AAAA,iCACI,QAAC,UAAD;AAAY,YAAA,KAAK,EAAE,KAAKD;AAAxB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADJ,eAII,QAAC,SAAD;AACI,UAAA,KAAK,EAAE,KAAKA,iBADhB;AAEI,UAAA,WAAW,EAAC,cAFhB;AAGI,UAAA,QAAQ,EAAGmB,MAAD,IAAY;AAClB;AACA,iBAAKb,QAAL,CAAc;AACVL,cAAAA,KAAK,EAAE,KAAKgB,UAAL,CAAgBR,MAAM,CAACqB,MAAP,CAAc,KAAKhC,KAAL,CAAWG,KAAzB,CAAhB,EAAiDkB,MAAM,CAACY,MAAP,CAAclB,KAA/D;AADG,aAAd;AAGH;AARL;AAAA;AAAA;AAAA;AAAA,gBAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAgBK,KAAKZ,KAAL,CAAWC,KAAX,GAAmB,CAAnB,iBACD,QAAC,QAAD;AAAU,QAAA,MAAM,MAAhB;AAAiB,QAAA,OAAO,EAAE,MAAM,KAAKI,QAAL,CAAc;AAC1CL,UAAAA,KAAK,EAAE,KAAKH,KAAL,CAAWG,KADwB;AAE1CC,UAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KAAX,GAAmB;AAFgB,SAAd,CAAhC;AAAA,+BAII,QAAC,YAAD;AAAA,iCACA,QAAC,aAAD;AAAe,YAAA,KAAK,EAAE,KAAKF;AAA3B;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,cAjBJ,EAyBK,KAAKQ,iBAAL,CAAuB,KAAKP,KAAL,CAAWA,KAAlC,CAzBL;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AA6BH;;AA3F4C;;AA+FjD,oBAAeV,UAAU,CAACI,kBAAD,CAAzB","sourcesContent":["import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport {IconButton, InputBase, ListItemSecondaryAction} from \"@material-ui/core\";\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\nimport {withRouter} from \"react-router-dom\";\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport SearchIcon from '@material-ui/icons/Search'\nimport Fuse from 'fuse.js';\n\nclass DirectoryComponent extends React.Component {\n    didMount = false;\n    localPrimaryColor = \"primary\";\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            state: props.state,\n            depth: 0\n        };\n    }\n\n    openFolder(jsonObj, entryName) {\n        this.setState({\n            state: jsonObj[entryName].child,\n            depth: this.state.depth + 1\n        });\n    }\n\n    generateListItems(jsonObj) {\n        return Object.entries(jsonObj).map(([key, value]) => {\n            return (\n                <ListItem button onClick={() => jsonObj[value.name] && this.openFolder(jsonObj, key)}>\n                    <ListItemIcon>\n                        {(value.type === \"dir\") && <FolderIcon color={this.localPrimaryColor}/>}\n                    </ListItemIcon>\n                    <ListItemText color={this.localPrimaryColor} primary={value.name} secondary={(value.type !== \"dir\") && value.type}/>\n                    <ListItemSecondaryAction>\n                        <IconButton color={this.localPrimaryColor} href={value.download_url}>\n                            <CloudDownloadIcon/>\n                        </IconButton>\n                    </ListItemSecondaryAction>\n                </ListItem>\n            );\n        })\n    }\n\n    fuseSearch(list, search) {\n        const options = {\n            includeScore: true,\n            keys: ['name', 'type', 'html_url', 'child.name', 'child.type', 'child.html_url']\n        }\n\n        const fuse = new Fuse(list, options)\n\n        if (search === \"\") return this.props.state;\n\n        return fuse.search(search).map(item => {\n            return {\n                name: item.item.name,\n                download_url: item.item.download_url,\n                html_url: item.item.html_url,\n                type: item.item.type,\n                child: item.item.child\n            }\n        }).reduce((acc, currItem) => (acc[currItem.name] = currItem, acc), {});\n    }\n\n    render() {\n        if(this.state.state !== null) {\n            // this.fuseSearch(Object.values(this.state.state), \"1. Semester\");\n        }\n        return (\n            <List>\n                <ListItem>\n                    <ListItemIcon>\n                        <SearchIcon color={this.localPrimaryColor}/>\n                    </ListItemIcon>\n                    <InputBase\n                        color={this.localPrimaryColor}\n                        placeholder=\"Search…\"\n                        onChange={(search) => {\n                            // this.fuseSearch(Object.values(this.state.state), search.target.value)\n                            this.setState({\n                                state: this.fuseSearch(Object.values(this.props.state), search.target.value)\n                            })\n                        }}\n                    />\n                </ListItem>\n                {this.state.depth > 0 &&\n                <ListItem button onClick={() => this.setState({\n                    state: this.props.state,\n                    depth: this.state.depth - 1\n                })}>\n                    <ListItemIcon>\n                    <ArrowBackIcon color={this.localPrimaryColor}/>\n                    </ListItemIcon>\n                </ListItem>}\n                {this.generateListItems(this.state.state)}\n            </List>\n        );\n    }\n\n}\n\nexport default withRouter(DirectoryComponent);"]},"metadata":{},"sourceType":"module"}